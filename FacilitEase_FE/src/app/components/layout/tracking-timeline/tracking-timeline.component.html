<section class="timeline_section">
  <div class="timeline_items">
    <div class="timeline_item" *ngFor="let item of value; let i = index">
      <div class="timeline_dot"></div>
      <div class="timeline_date">
        {{ item.date | date : "dd MMM, yyyy 'at' HH:mm:ss" }}
      </div>
      <div
        class="timeline_content"
        [@staggeredAnimation]="{ value: '', params: { delay: i * 100 } }"
      >
        <h3>{{ item.title }}</h3>
        <p>
          Ticket Status:
          <span
            [ngClass]="{
              open_status: item.content === 'Open',
              'in-progress_status': item.content === 'In Progress',
              escalated_status: item.content === 'Escalated',
              resolved_status: item.content === 'Resolved',
              'on-hold_status': item.content === 'On Hold',
              'cancel_request-status': item.content === 'Cancel Requested',
              cancel_status: item.content === 'Cancelled'
            }"
          >
            {{ item.content }}
          </span>
        </p>
        <p *ngIf="i === 0">Submitted By: {{ item.submitted }}</p>
        <p
          *ngIf="
            item.content === 'In Progress' && item.assigned !== 'Not Assigned'
          "
        >
          Assigned To: {{ item.assigned }}
        </p>
        <p
          *ngIf="
            item.content === 'Resolved' && item.assigned !== 'Not Assigned'
          "
        >
          Resolved By : {{ item.assigned }}
        </p>
        <!-- Show Approver By section for On Hold status -->
        <p
          *ngIf="
            item.content === 'On Hold' && item.controller !== 'Not Assigned'
          "
        >
          Forwarded To: {{ item.controller }}
        </p>
        <p
          *ngIf="
            item.content === 'Cancel Requested' &&
            item.assigned !== 'Not Assigned'
          "
        >
          Requested To: {{ item.assigned }}
        </p>
        <p *ngIf="i !== 0 && value[i - 1]?.priorityname !== item.priorityname">
          Priority Changed To: {{ item.priority }}
        </p>
      </div>
    </div>
  </div>
</section>
